/* Playful, bright, Coca-Cola-esque vibe (bold reds, fizzing highlights) */
:root{
  --ink:#181818;
  --bg:#fff5f5;
  --coke:#e81e2a;
  --sun:#ffd84d;
  --sky:#2ea8ff;
  --leaf:#20d07a;
  --glass:rgba(255,255,255,0.6);
  --shadow:0 10px 30px rgba(0,0,0,0.12);
  --ring:0 0 0 4px rgba(232,30,42,0.18);
}

*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial;
  color:var(--ink);
  background: radial-gradient(1200px 600px at 80% 0%, #ffe7ea 0%, #fff8f2 30%, var(--bg) 70%);
  overflow-x:hidden;
}

.bg-sparkle{
  position:fixed; inset:0; pointer-events:none;
  background-image: radial-gradient(circle at 10% 20%, rgba(255,255,255,0.7) 0, rgba(255,255,255,0) 50%),
                    radial-gradient(circle at 80% 10%, rgba(255,255,255,0.6) 0, rgba(255,255,255,0) 50%);
  filter: blur(1px);
}

.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 20px; position:sticky; top:0; background:linear-gradient(180deg,rgba(255,255,255,0.9),rgba(255,255,255,0.6));
  backdrop-filter: blur(8px); border-bottom:1px solid rgba(0,0,0,0.06);
}

.brand{ color:var(--coke); font-weight:800; letter-spacing:.2px }

.ghost{
  background:transparent; border:1px solid rgba(0,0,0,0.12); padding:8px 12px;
  border-radius:999px; cursor:pointer; box-shadow:var(--shadow);
}
.ghost:hover{ box-shadow:0 12px 24px rgba(0,0,0,0.16) }

.scene{ display:grid; grid-template-columns:1fr minmax(280px,560px) 1fr; gap:20px; padding:24px }
.board{ grid-column:2; display:flex; flex-direction:column; align-items:center; gap:12px }

.panel{ grid-column:2; }
.panel .card{ box-shadow:var(--shadow); border-radius:24px; padding:20px; background:white }
.panel--intro .card{ text-align:center }
.glass{ background:var(--glass); backdrop-filter: blur(8px) }

.title{ font-size:28px; margin:4px 0 8px }
.lead{ margin:0 0 14px; opacity:.9 }

.pill-legend{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; padding:0; margin:0 0 20px; list-style:none }
.pill{ display:inline-block; width:14px; height:14px; border-radius:4px; box-shadow: inset 0 -2px 0 rgba(0,0,0,0.2) }
.pill--red{ background:var(--coke) }
.pill--yellow{ background:var(--sun) }
.pill--blue{ background:var(--sky) }
.pill--green{ background:var(--leaf) }

.cta{
  background:var(--coke); color:white; padding:12px 20px; border:none; border-radius:14px; cursor:pointer;
  font-weight:700; box-shadow:0 12px 24px rgba(232,30,42,0.25); transform: translateZ(0);
}
.cta.small{ padding:8px 14px; border-radius:10px; font-weight:600 }
.cta:hover{ filter:saturate(1.1) brightness(1.03) }
.cta:active{ transform: translateY(1px) }

/* Tower */
.tower{ width:320px; perspective:800px; margin-top:6px }
.row{ display:flex; gap:10px; margin:12px 0; transform-style:preserve-3d }
.row:nth-child(odd){ transform: rotateZ(.2deg) }
.block{
  flex:1; height:38px; border-radius:10px; position:relative; transform-style:preserve-3d;
  box-shadow: inset 0 -6px 0 rgba(0,0,0,0.18), var(--shadow);
}
.block::after{ content:""; position:absolute; inset:-1px; border-radius:10px; box-shadow: var(--ring); opacity:0; transition:opacity .2s }
.block:hover::after{ opacity:1 }
.block.red{ background:linear-gradient(#ff4f5b, var(--coke)) }
.block.yellow{ background:linear-gradient(#fff176, var(--sun)) }
.block.blue{ background:linear-gradient(#7fcaff, var(--sky)) }
.block.green{ background:linear-gradient(#73f3b2, var(--leaf)) }

/* Animations */
@keyframes wobble{
  0%{ transform: rotate(-1deg) translateX(-2px) }
  50%{ transform: rotate(1.5deg) translateX(2px) }
  100%{ transform: rotate(0) translateX(0) }
}
.tower.wobble{ animation: wobble .5s ease-in-out }

@keyframes collapse{
  0%{ transform: translateY(0) rotate(0) }
  100%{ transform: translateY(120px) rotate(12deg); opacity:0 }
}
.tower.collapse .row{ animation: collapse .9s forwards; }
.tower.collapse .row:nth-child(2){ animation-delay:.06s }
.tower.collapse .row:nth-child(3){ animation-delay:.12s }
.tower.collapse .row:nth-child(4){ animation-delay:.18s }
.tower.collapse .row:nth-child(5){ animation-delay:.24s }

/* Meter */
.meter{ width:320px; display:flex; flex-direction:column; gap:6px }
.bar{ width:100%; height:10px; background:#ffe1e4; border-radius:999px; overflow:hidden }
.fill{ height:100%; background:linear-gradient(90deg,var(--leaf),var(--sun),var(--coke)); transition:width .3s }

/* Q&A card */
.panel--question .card{ background:white; }
.qheader{ display:flex; align-items:center; justify-content:space-between; gap:12px }
.tag{ background:#111; color:white; padding:6px 10px; border-radius:999px; font-size:12px }
.qtext{ margin:10px 0 14px; line-height:1.4 }
.answers{ display:grid; gap:10px }
.answer{
  border:1px solid rgba(0,0,0,0.1); padding:12px 14px; border-radius:12px; cursor:pointer; background:white; box-shadow:var(--shadow);
}
.answer:hover{ border-color:var(--coke) }

.footer{ text-align:center; padding:30px 14px; opacity:.7 }

/* Modal */
.modal{ position:fixed; inset:0; display:grid; place-items:center; background:rgba(0,0,0,0.3) }
.modal[hidden]{ display:none }
.modal__card{ background:white; padding:18px; border-radius:16px; box-shadow:var(--shadow); width:min(520px,92vw) }

@media (max-width:560px){
  .tower, .meter{ width:92vw; max-width:360px }
}
